<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Create default email scheduler configuration -->
        <record id="default_lunch_email_scheduler" model="lunch.email.scheduler">
            <field name="name">Lunch Reminder Configuration</field>
            <field name="email_time">14.0</field><!-- 2:00 PM -->
            <field name="is_active">True</field>
        </record>

        <!-- Default Email Template -->
        <record id="email_template_lunch_reminder" model="mail.template">
            <field name="name">Lunch Reminder Email</field>
            <field name="model_id" ref="hr.model_hr_employee" />
            <field name="subject">üçΩÔ∏è Lunch Reminder - Fill Tomorrow's Form</field>
            <field name="email_from">${object.company_id.email or user.email}</field>
            <field name="email_to">${object.work_email}</field>
            <field name="body_html" type="html">
                <div
                    style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f5f5f5;">
                    <div
                        style="background-color: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <!-- Header -->
                        <div style="text-align: center; margin-bottom: 30px;">
                            <h2 style="color: #2c3e50; margin: 0;">üçΩÔ∏è Lunch Reminder</h2>
                        </div>

                        <!-- Greeting -->
                        <p style="color: #34495e; font-size: 16px; line-height: 1.6;"> Hello <strong>
                            ${object.name}</strong>, </p>

                        <!-- Main Message -->
                        <p style="color: #34495e; font-size: 16px; line-height: 1.6;"> This is a
                            friendly reminder to fill in your lunch form for <strong>tomorrow</strong>
                            . </p>

                        <p style="color: #34495e; font-size: 16px; line-height: 1.6;">
                            Please log in to the system and confirm your lunch preference before the
                            deadline.
                        </p>

                        <!-- Call to Action Button -->
                        <div style="text-align: center; margin: 40px 0;">
                            <a
                                href="${ctx.get('lunch_url', object.env['ir.config_parameter'].sudo().get_param('web.base.url'))}/web#action=19_lunch_management.action_lunch_record_my"
                                style="display: inline-block; padding: 15px 40px; background-color: #3498db; color: white; 
                      text-decoration: none; border-radius: 5px; font-size: 16px; font-weight: bold;">
                                üìù Fill Lunch Form
                            </a>
                        </div>

                        <!-- Additional Info -->
                        <div
                            style="background-color: #ecf0f1; padding: 15px; border-radius: 5px; margin: 20px 0;">
                            <p style="color: #7f8c8d; font-size: 14px; margin: 0; line-height: 1.6;">
                                <strong>‚è∞ Important:</strong> Please confirm your lunch before the
                                confirmation deadline to ensure your meal is prepared. </p>
                        </div>

                        <!-- Footer -->
                        <hr style="border: none; border-top: 1px solid #ecf0f1; margin: 30px 0;" />

                        <p style="color: #95a5a6; font-size: 12px; text-align: center;"> This is an
                            automated message from ${object.company_id.name}.<br /> Please do not
                            reply to this email. </p>
                    </div>
                </div>
            </field>
            <field name="auto_delete">False</field>
        </record>

        <!-- Link template to scheduler -->
        <function model="lunch.email.scheduler" name="write">
            <value eval="[ref('default_lunch_email_scheduler')]" />
            <value eval="{'email_template_id': ref('email_template_lunch_reminder')}" />
        </function>

    </data>
</odoo>